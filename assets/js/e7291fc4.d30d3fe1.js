"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[7266],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>c});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=o.createContext({}),s=function(e){var n=o.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=s(e.components);return o.createElement(u.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(t),c=r,k=d["".concat(u,".").concat(c)]||d[c]||m[c]||a;return t?o.createElement(k,i(i({ref:n},p),{},{components:t})):o.createElement(k,i({ref:n},p))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=t[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},208:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=t(7462),r=(t(7294),t(3905));const a={sidebar_position:6},i="Linux VPS",l={unversionedId:"runanode/linux_vps",id:"runanode/linux_vps",title:"Linux VPS",description:"How to download and install Minima on your Linux Server/Desktop (Debian OS including Ubuntu)",source:"@site/docs/runanode/linux_vps.md",sourceDirName:"runanode",slug:"/runanode/linux_vps",permalink:"/docs/runanode/linux_vps",draft:!1,editUrl:"https://github.com/minima-global/minidocs/docs/runanode/linux_vps.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Linux Desktop",permalink:"/docs/runanode/linux_desktop"},next:{title:"Using MiniDapps",permalink:"/docs/runanode/usingminidapps"}},u={},s=[{value:"How to download and install Minima on your Linux Server/Desktop (Debian OS including Ubuntu)",id:"how-to-download-and-install-minima-on-your-linux-serverdesktop-debian-os-including-ubuntu",level:2},{value:"Interacting with your node",id:"interacting-with-your-node",level:2},{value:"How to set up your Incentive Program account to receive rewards",id:"how-to-set-up-your-incentive-program-account-to-receive-rewards",level:2},{value:"Useful Commands",id:"useful-commands",level:2},{value:"Secure your Node",id:"secure-your-node",level:2},{value:"Next Steps",id:"next-steps",level:2}],p={toc:s};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"linux-vps"},"Linux VPS"),(0,r.kt)("h2",{id:"how-to-download-and-install-minima-on-your-linux-serverdesktop-debian-os-including-ubuntu"},"How to download and install Minima on your Linux Server/Desktop (Debian OS including Ubuntu)"),(0,r.kt)("p",null,"If you have not run Minima before, please ensure you have the latest version of Java installed on the server ",(0,r.kt)("a",{parentName:"p",href:"https://java.com/en/"},"https://java.com/en/")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Log in as the root user. (You may need to create a secure SSH connection to your server using PuTTY, Terminal or a similar tool)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open the Command prompt, ensure you are in the root directory")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"From the root directory, please run the following script to set Minima as a service which will run continuously in the background on your server:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget -O minima_setup.sh https://raw.githubusercontent.com/minima-global/Minima/master/scripts/minima_setup.sh && chmod +x minima_setup.sh && sudo ./minima_setup.sh -p 9001 -r 9002\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Wait for Minima to start, this can take up to 30 minutes and Minima will restart during the process")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"When you see the log message below, Minima has started and synced to the chain.\n",(0,r.kt)("inlineCode",{parentName:"p"},"[+] Connected to the blockchain Initial Block Download received."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Hold ",(0,r.kt)("inlineCode",{parentName:"p"},"ctrl"),"+",(0,r.kt)("inlineCode",{parentName:"p"},"c")," together to exit the logs, Minima will continue to run in the background."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Congratulations - your node is now installed & running! ")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Running multiple nodes on one server?"),(0,r.kt)("br",null),"\nYou can specify different port numbers on the end to do this, for example using 9121-9125: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget -O minima_setup.sh https://raw.githubusercontent.com/minima-global/Minima/master/scripts/minima_setup.sh && chmod +x minima_setup.sh && sudo ./minima_setup.sh -p 9121 -r 9122\n")),(0,r.kt)("h2",{id:"interacting-with-your-node"},"Interacting with your node"),(0,r.kt)("p",null,"By default Minima is installed on ports 9001-9005. The default RPC port is 9002."),(0,r.kt)("p",null,"You can send commands to your Minima node using curl to the RPC port. "),(0,r.kt)("p",null,"To install curl:\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo apt install curl")," then ",(0,r.kt)("inlineCode",{parentName:"p"},"y")),(0,r.kt)("p",null,"For improved formatting:\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo apt install jq")," then ",(0,r.kt)("inlineCode",{parentName:"p"},"y")),(0,r.kt)("p",null,"Example: To check the status of your Minima node when logged on to the server:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.0.1:9002/status | jq")),(0,r.kt)("p",null,"You will see the current block and other information about your node. "),(0,r.kt)("hr",null),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"how-to-set-up-your-incentive-program-account-to-receive-rewards"},"How to set up your Incentive Program account to receive rewards"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Register at ",(0,r.kt)("a",{parentName:"p",href:"https://incentive.minima.global/"},"https://incentive.minima.global/")," (if you have not done so already)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Go to the Incentive ID page and copy your Incentive ID. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Once the Minima is running, enter the following command from your server to connect your Incentive ID to your node"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"curl 127.0.0.1:9002/incentivecash%20uid:xxx-xxx-xxx-xxx-xxx\n")),(0,r.kt)("p",null,"(replace the xxx with your own Incentive ID)"),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"curl 127.0.0.1:9002/incentivecash%20uid:00F3E50D-5A52-444B-8F1A-0DA72D6CAA84\n")),(0,r.kt)("p",null,"You should receive a return status of ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," and see your Reward balances.",(0,r.kt)("br",null)),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("em",{parentName:"p"},"If you have multiple nodes on one server, you will need to change the port number in the curl command to the next number from the custom port you chose ",(0,r.kt)("br",null),"\nE.g. if you used -9121 to start your node, the RPC port will be 9122")),(0,r.kt)("p",{parentName:"admonition"},"Example:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre"},"curl 127.0.0.1:9122/incentivecash%20uid:xxx-xxx-xxx-xxx-xxx\n"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Your Incentive Program account is now connected to your node!")),(0,r.kt)("p",null,"4) Your node will then ping us so we know it's running. "),(0,r.kt)("p",null,"5) For every day your node pings us, we'll add 1 Minima to your DAILY REWARDS. "),(0,r.kt)("p",null,"6) To check your Rewards, type ",(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.0.1:9002/incentivecash | jq")," into the Command Line on your server."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'incentivecash\n{\n  "command":"incentivecash",\n  "status":true,\n  "response":{\n    "uid":"731ae11b-b602-4dea-8564-7cb4edbe07b7",\n    "details":{\n      "lastPing":"2022-03-14T17:28:38.709Z",\n      "inviteCode":"BAEPAAD0",\n      "rewards":{\n        "dailyRewards":60,\n        "previousRewards":100.0,\n        "communityRewards":50.0,\n        "inviterRewards":10.0\n      }\n    }\n  }\n}\n')),(0,r.kt)("admonition",{title:"Rewards",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For every day your node is connected to the network, you will receive 1 Reward within the next 24 hours.")),(0,r.kt)("h2",{id:"useful-commands"},"Useful Commands"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ctrl-c")," : Exits the Minima logs (Minima will continue to run in the background)",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"journalctl -u minima_9001 -f")," : Show the Minima logs",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo ps -fC java")," : Shows all running Java processes",(0,r.kt)("br",null)),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"sudo apt install curl")," : allows you to use curl commands to interact with minima",(0,r.kt)("br",null),"\nThen ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," (for Yes)"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"sudo apt install jq")," : allows you to use jq to make the output look readable",(0,r.kt)("br",null),"\nThen ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," (for Yes)"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl status minima_9001")," - Check the status of the Minima background service"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Stopping/starting Minima (Service must be called minima.service)"),(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl stop minima_9001")," - Stop the Minima service",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl disable minima_9001")," - Disable the Minima service",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl enable minima_9001")," - Enable the Minima service ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl start minima_9001")," - Start the Minima service",(0,r.kt)("br",null)),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Interacting with Minima"),(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.0.1:9002/status | jq")," - shows the status of Minima ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.0.1:9002/incentivecash | jq")," - shows your incentive cash balance",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.0.1:9002/help | jq")," - shows the full list of commands",(0,r.kt)("br",null)),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("strong",{parentName:"strong"},"Terminal Commands")),(0,r.kt)("br",null),"\nFor a full list of Minima Terminal Commands see ",(0,r.kt)("a",{parentName:"p",href:"/docs/runanode/terminal_commands"},"Terminal Commands.")),(0,r.kt)("h2",{id:"secure-your-node"},"Secure your Node"),(0,r.kt)("p",null,"We have been made aware of malicious users using Curl commands to insert Incentive IDs into externally accessible server nodes."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"You must take steps to protect your server from external access.")),(0,r.kt)("p",null,"To prevent access to your node, you must block the RPC Port, 9002 is the default. "),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you have installed multiple instances of Minima on the same server, you will need to block multiple RPC ports. ",(0,r.kt)("br",null),"\nE.g. If you installed Minima on ports 9001 (default), 9121 and 8001, the RPC ports for those nodes will be 9002 (default), 9122 and 8002.")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"If you have other applications on your server other than Minima - please review your existing firewall settings before proceeding.")),(0,r.kt)("p",null,"To install a firewall and secure your node:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"ssh into your server as root")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install Uncomplicated Firewall (ufw)",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"apt-get install ufw"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Then immediately disable it, to first configure it",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw disable"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Allow incoming/outgoing connections as default",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw default allow"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Deny incoming connections to your RPC ports - 9002 (and other RPC if you have multiple nodes)",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw deny in 9002"),(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw deny in 9122")," (optional)",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw deny in 8002")," (optional)",(0,r.kt)("br",null))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Ensure ssh is allowed",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw allow ssh"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enable the firewall",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ufw enable"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Confirm",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"y")," ",(0,r.kt)("br",null)))),(0,r.kt)("p",null,"Your firewall is now configured."),(0,r.kt)("p",null,"You will still be able to send rpc commands directly from your server using curl ",(0,r.kt)("br",null),"\ne.g.  ",(0,r.kt)("inlineCode",{parentName:"p"},"curl 127.0.01:9002/status | jq")),(0,r.kt)("p",null,"However, if you wish to check your node from an external computer, you must use SSH with each command. ",(0,r.kt)("br",null),"\ne.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh  root@YourServerIP curl 127.0.0.1:9002/status")),(0,r.kt)("p",null,"If you have jq installed on your computer (for improved formatting)",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"ssh  root@YourServerIP curl 127.0.0.1:9002/status | jq")),(0,r.kt)("p",null,"Each request will require your server password."),(0,r.kt)("p",null,"Lock it down."),(0,r.kt)("h2",{id:"next-steps"},"Next Steps"),(0,r.kt)("p",null,"Once your node running, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/runanode/usingminidapps"},"How to use MiniDapps")," to start testing!"),(0,r.kt)("p",null,"Thank you for participating and contributing to our Testnet."),(0,r.kt)("p",null,"Learn more:",(0,r.kt)("br",null)),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/learn/minidapps/minidappsintro"},"What are MiniDapps?")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("a",{parentName:"p",href:"https://minidapps.minima.global/"},"Download the latest MiniDapps")," ",(0,r.kt)("br",null)))}m.isMDXComponent=!0}}]);