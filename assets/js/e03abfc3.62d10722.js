"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[8382],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9739:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={sidebar_position:8},l="Restoring a node",p={unversionedId:"runanode/restorefunds",id:"runanode/restorefunds",title:"Restoring a node",description:"If you lose access to your node or you become out of sync with the chain, you can either:",source:"@site/docs/runanode/restorefunds.md",sourceDirName:"runanode",slug:"/runanode/restorefunds",permalink:"/docs/runanode/restorefunds",editUrl:"https://github.com/minima-global/minidocs/docs/runanode/restorefunds.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Securing your funds",permalink:"/docs/runanode/securefunds"},next:{title:"Archive Nodes",permalink:"/docs/runanode/archivenodes"}},c={},u=[{value:"Restoring from a backup",id:"restoring-from-a-backup",level:2},{value:"Re-syncing from an Archive node",id:"re-syncing-from-an-archive-node",level:2},{value:"How to perform a chain re-sync",id:"how-to-perform-a-chain-re-sync",level:3},{value:"From Android",id:"from-android",level:4},{value:"From desktop/server using the Terminal",id:"from-desktopserver-using-the-terminal",level:4},{value:"How to perform a seed re-sync",id:"how-to-perform-a-seed-re-sync",level:3},{value:"From Android",id:"from-android-1",level:4},{value:"From desktop/server using the Terminal",id:"from-desktopserver-using-the-terminal-1",level:4}],d={toc:u};function m(e){var t=e.components,s=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"restoring-a-node"},"Restoring a node"),(0,a.kt)("p",null,"If you lose access to your node or you become out of sync with the chain, you can either:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Start a new node, then ",(0,a.kt)("strong",{parentName:"li"},"restore a recent, valid backup")," you took previously"),(0,a.kt)("li",{parentName:"ul"},"Perform a ",(0,a.kt)("strong",{parentName:"li"},"chain re-sync")," from an Archive node (no seed phrase required) "),(0,a.kt)("li",{parentName:"ul"},"Perform a ",(0,a.kt)("strong",{parentName:"li"},"seed re-sync")," from an Archive node (requires your 24 word seed phrase)")),(0,a.kt)("h2",{id:"restoring-from-a-backup"},"Restoring from a backup"),(0,a.kt)("p",null,"For a backup to be valid it must be:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"recent, taken within the last 1-2 months"),(0,a.kt)("li",{parentName:"ol"},"taken whilst you were in sync with with the chain (correct tip block)")),(0,a.kt)("p",null,"Restoring from a recent backup is the recommended and fastest way to regain access to your lost funds."),(0,a.kt)("p",null,"For details on how to restore a backup, select your platform of choice from the ",(0,a.kt)("a",{parentName:"p",href:"/docs/runanode/get_started"},"Get Started")," page and see ",(0,a.kt)("strong",{parentName:"p"},"How to restore your node from a backup")," in the ",(0,a.kt)("strong",{parentName:"p"},"FAQ")," section."),(0,a.kt)("h2",{id:"re-syncing-from-an-archive-node"},"Re-syncing from an Archive node"),(0,a.kt)("p",null,"Please note that by using an Archive node to re-sync your own node, you are ",(0,a.kt)("strong",{parentName:"p"},"relying on a third party")," and it should therefore only be used as a last resort. You may wish to ",(0,a.kt)("a",{parentName:"p",href:"/docs/runanode/archivenodes"},"run your own Archive node")," for additional reassurance."),(0,a.kt)("p",null,"There are two options when using an Archive node to re-sync your own node:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Chain re-sync:")," If you have been offline for too long and your node is not on the correct tip block, you can re-sync to the latest block by performing a ",(0,a.kt)("a",{parentName:"p",href:"#how-to-perform-a-chain-re-sync"},"chain re-sync")," from an Archive node. ",(0,a.kt)("strong",{parentName:"p"},"Your node will NOT be wiped during this process."))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Seed re-sync:")," If you do not have a valid backup or you have lost access to your node, you can restore access to your coins by performing a ",(0,a.kt)("a",{parentName:"p",href:"#how-to-perform-a-seed-re-sync"},"seed re-sync")," from an Archive node using your 24 word seed phrase. ",(0,a.kt)("strong",{parentName:"p"},"Your node will first be wiped before the re-sync begins.")))),(0,a.kt)("h3",{id:"how-to-perform-a-chain-re-sync"},"How to perform a chain re-sync"),(0,a.kt)("p",null,"Your coins will remain safe throughout this process."),(0,a.kt)("h4",{id:"from-android"},"From Android"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"From an existing node, go to the ",(0,a.kt)("strong",{parentName:"li"},"Archive")," page"),(0,a.kt)("li",{parentName:"ol"},"Select ",(0,a.kt)("strong",{parentName:"li"},"CHAIN RE-SYNC"))),(0,a.kt)("p",null,(0,a.kt)("img",{loading:"lazy",alt:"dappmenu",src:n(189).Z+"#width40",width:"418",height:"740"})),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Read the information, then select ",(0,a.kt)("strong",{parentName:"li"},"START CHAIN RE-SYNC")),(0,a.kt)("li",{parentName:"ol"},"Leave the default Archive Node Host as ",(0,a.kt)("strong",{parentName:"li"},"auto")," to use one of the pre-set Archive nodes, or optionally enter the ip:port of the Archive node you wish to resync from e.g. 10.198.89.98:9001"),(0,a.kt)("li",{parentName:"ol"},"Click ",(0,a.kt)("strong",{parentName:"li"},"OK"),", the resync will begin, please be patient")),(0,a.kt)("p",null,"Once complete, you will be on the correct tip block."),(0,a.kt)("h4",{id:"from-desktopserver-using-the-terminal"},"From desktop/server using the Terminal"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"From an existing node that is out of sync with the latest tip block, login to your MiniDapp System (MDS)"),(0,a.kt)("li",{parentName:"ol"},"Open the Terminal MiniDapp"),(0,a.kt)("li",{parentName:"ol"},"Enter the following command, WITHOUT providing your 24 word seed phrase.")),(0,a.kt)("p",null,"You can use the default ",(0,a.kt)("strong",{parentName:"p"},"auto")," option to use one of the pre-set Archive nodes, or optionally enter the ip:port of the Archive node you wish to resync from e.g. 10.198.89.98:9001"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"archive action:resync host:auto\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Press Enter"),(0,a.kt)("li",{parentName:"ol"},"The re-sync will begin, please be patient"),(0,a.kt)("li",{parentName:"ol"},"Check the logs to see when the process is complete"),(0,a.kt)("li",{parentName:"ol"},"Reload your MiniDapp System - you may have to accept the security warning again ")),(0,a.kt)("p",null,"Once complete, you will be on the correct tip block."),(0,a.kt)("p",null,"For further help using the ",(0,a.kt)("inlineCode",{parentName:"p"},"archive")," command, use ",(0,a.kt)("inlineCode",{parentName:"p"},"help command:archive")," from the Terminal."),(0,a.kt)("h3",{id:"how-to-perform-a-seed-re-sync"},"How to perform a seed re-sync"),(0,a.kt)("p",null,"Performing a seed re-sync will ",(0,a.kt)("strong",{parentName:"p"},"WIPE your node completely")," before re-syncing your coins from an Archive node."),(0,a.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},(0,a.kt)("strong",{parentName:"p"},"This process requires you to type your 24 word seed phrase into an online device. Please ensure your device contains no malware before proceeding. This process should ONLY be used if you have no backup!")," "))),(0,a.kt)("h4",{id:"from-android-1"},"From Android"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"On your new device that you wish to restore to, go to the ",(0,a.kt)("strong",{parentName:"li"},"Archive")," page"),(0,a.kt)("li",{parentName:"ol"},"Select ",(0,a.kt)("strong",{parentName:"li"},"SEED PHRASE RE-SYNC"))),(0,a.kt)("p",null,(0,a.kt)("img",{loading:"lazy",alt:"dappmenu",src:n(189).Z+"#width40",width:"418",height:"740"})),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Enter your Seed Phrase, submitting each word individually until you have completed all 24 words. ")),(0,a.kt)("p",null,(0,a.kt)("img",{loading:"lazy",alt:"dappmenu",src:n(8680).Z+"#width40",width:"424",height:"737"})),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Leave ",(0,a.kt)("strong",{parentName:"li"},"Max Keys Uses")," as the default 1000 if you think you have not signed over 1000 transactions, otherwise enter a higher number indicating the maximum times you have signed a transaction."),(0,a.kt)("li",{parentName:"ol"},"Select ",(0,a.kt)("strong",{parentName:"li"},"SEED PHRASE COMPLETE")),(0,a.kt)("li",{parentName:"ol"},"Leave the default Archive Node Host as ",(0,a.kt)("strong",{parentName:"li"},"auto")," to use one of the pre-set Archive nodes, or optionally enter the ip:port of the Archive node you wish to resync from e.g. 10.198.89.98:9001"),(0,a.kt)("li",{parentName:"ol"},"Click ",(0,a.kt)("strong",{parentName:"li"},"OK"),", the resync will begin, please be patient")),(0,a.kt)("p",null,"Once complete, the app will shutdown, reopen it to start the node and check your restored coins."),(0,a.kt)("h4",{id:"from-desktopserver-using-the-terminal-1"},"From desktop/server using the Terminal"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Set up your new clean node that you wish to restore to and login to your MiniDapp System (MDS)"),(0,a.kt)("li",{parentName:"ol"},"Open the Terminal MiniDapp"),(0,a.kt)("li",{parentName:"ol"},"Enter the following command, using the ",(0,a.kt)("inlineCode",{parentName:"li"},"phrase")," parameter for your 24 word seed phrase and the ",(0,a.kt)("inlineCode",{parentName:"li"},"keyuses")," parameter to set the maximum number of times you signed (i.e. sent) a transaction.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'archive action:resync phrase:"YOUR 24 WORD SEED PHRASE HERE" host:auto keyuses:1000\n')),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Parameters")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("ul",{parentName:"div"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"host:")," Enter the ip:port of an archive node you wish to re-sync from e.g. 10.198.89.98:9001. You can use the default ",(0,a.kt)("strong",{parentName:"li"},"auto")," option to use one of the pre-set Archive nodes."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"keyuses:")," (optional) How many times at most did you use your keys for signing a transaction.. Every time you resync with seed phrase this needs to be higher as Minima Signatures are stateful. Defaults to 1000 - the max is 262144 for normal keys."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"keys:")," (optional) The number of public/private key pairs to generate. All nodes are created with 64 addresses so 64 is the default, if you used ",(0,a.kt)("inlineCode",{parentName:"li"},"newaddress"),", you can specify more. ")))),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Press Enter"),(0,a.kt)("li",{parentName:"ol"},"The restore will begin, please be patient"),(0,a.kt)("li",{parentName:"ol"},"Check the logs to see when the process is complete"),(0,a.kt)("li",{parentName:"ol"},"Reload your MiniDapp System - you may have to accept the security warning again ")),(0,a.kt)("p",null,"Once complete, your coins will be restored."))}m.isMDXComponent=!0},189:function(e,t,n){t.Z=n.p+"assets/images/archivepage-7450ff3b82fe55df921b6cba963bac92.png"},8680:function(e,t,n){t.Z=n.p+"assets/images/insertseed2-8e4716518cc41db131175681a38562b5.png"}}]);