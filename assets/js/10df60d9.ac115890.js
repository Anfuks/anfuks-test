"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[6481],{3905:(e,r,n)=>{n.d(r,{Zo:()=>u,kt:()=>h});var t=n(7294);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function c(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=t.createContext({}),l=function(e){var r=t.useContext(s),n=r;return e&&(n="function"==typeof e?e(r):i(i({},r),e)),n},u=function(e){var r=l(e.components);return t.createElement(s.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},p=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),h=o,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||a;return n?t.createElement(m,i(i({ref:r},u),{},{components:n})):t.createElement(m,i({ref:r},u))}));function h(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=p;var c={};for(var s in r)hasOwnProperty.call(r,s)&&(c[s]=r[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var l=2;l<a;l++)i[l]=n[l];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7604:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var t=n(7462),o=(n(7294),n(3905));const a={sidebar_position:9},i="Archive Nodes",c={unversionedId:"runanode/archivenodes",id:"runanode/archivenodes",title:"Archive Nodes",description:"Only available from v1.0 onwards",source:"@site/docs/runanode/archivenodes.md",sourceDirName:"runanode",slug:"/runanode/archivenodes",permalink:"/docs/runanode/archivenodes",draft:!1,editUrl:"https://github.com/minima-global/minidocs/docs/runanode/archivenodes.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"Restoring lost funds",permalink:"/docs/runanode/restorefunds"},next:{title:"Terminal Commands",permalink:"/docs/runanode/terminal_commands"}},s={},l=[{value:"System Requirements",id:"system-requirements",level:2},{value:"Minimum Hardware Requirements",id:"minimum-hardware-requirements",level:3},{value:"Ports",id:"ports",level:3},{value:"Starting an Archive Node",id:"starting-an-archive-node",level:2},{value:"Manual node",id:"manual-node",level:3},{value:"Docker",id:"docker",level:3},{value:"How to check your Archive data",id:"how-to-check-your-archive-data",level:2}],u={toc:l};function d(e){let{components:r,...n}=e;return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"archive-nodes"},"Archive Nodes"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Only available from v1.0 onwards")),(0,o.kt)("p",null,"Archive nodes store the records of all the PoW and MMR data (proofs) for coins since the Archive node is started. "),(0,o.kt)("p",null,"Externally available Archive nodes (with a static external IP) can be used to provide a service of resyncing users to the chain who have lost access to their node or been offline for too long, causing them to be out of sync with the chain."),(0,o.kt)("p",null,"You may also run an Archive node for your own purposes (in addition to your normal node) in the case you ever need to restore your funds."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Example A - Personal Archive Node")),(0,o.kt)("p",{parentName:"blockquote"},"A user running a node on a mobile device may choose to run an Archive node on their laptop at home in case they ever lose  their phone and can't find a valid backup of their node. ")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Example B - Archive Node as a service")),(0,o.kt)("p",{parentName:"blockquote"},"A user with a server with a static external IP can run an Archive node and share the IP:Port of their node with other users who require restoring their node (in the case they have no backup or lose access to their node).")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Archive nodes do NOT store transaction history, or custom scripts.")),(0,o.kt)("h2",{id:"system-requirements"},"System Requirements"),(0,o.kt)("p",null,"Anyone can run an Archive node from a desktop or server."),(0,o.kt)("h3",{id:"minimum-hardware-requirements"},"Minimum Hardware Requirements"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Processing:")," 2 CPU ",(0,o.kt)("br",null),"\n",(0,o.kt)("strong",{parentName:"p"},"Memory:")," 2GB RAM",(0,o.kt)("br",null),"\n",(0,o.kt)("strong",{parentName:"p"},"Storage:")," 5GB*"),(0,o.kt)("p",null,"*This may change over time"),(0,o.kt)("h3",{id:"ports"},"Ports"),(0,o.kt)("p",null,"Archive nodes wishing to run as a service must be open to inbound connections on port 9001 (or the main custom port you have chosen)."),(0,o.kt)("h2",{id:"starting-an-archive-node"},"Starting an Archive Node"),(0,o.kt)("p",null,"When you start an Archive node, you will start storing the archive data from that point onwards, therefore you can only resync coins for users that are created after this point."),(0,o.kt)("p",null,"It is possible to run an Archive node from Genesis if you start your Archive node within 2 months of the Genesis block or by syncing your Archive node from another Archive node."),(0,o.kt)("h3",{id:"manual-node"},"Manual node"),(0,o.kt)("p",null,"Add the ",(0,o.kt)("inlineCode",{parentName:"p"},"-archive")," parameter to the start up command. "),(0,o.kt)("h3",{id:"docker"},"Docker"),(0,o.kt)("p",null,"Add ",(0,o.kt)("inlineCode",{parentName:"p"},"-e minima_archive=true")," to the start up command."),(0,o.kt)("h2",{id:"how-to-check-your-archive-data"},"How to check your Archive data"),(0,o.kt)("p",null,"From the Terminal MiniDapp or Docker CLI, you can check the integrity of your Archive data by running the command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"archive action:integrity\n")),(0,o.kt)("p",null,"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'archive action:integrity\n{\n  "command":"archive",\n  "params":{\n    "action":"integrity"\n  },\n  "status":true,\n  "pending":false,\n  "response":{\n    "message":"Archive integrity check completed",\n    "start":1,\n    "blocks":6443,\n    "cascade":true,\n    "errors":0,\n    "recommend":"Your ArchiveDB is correct and has no errors."\n  }\n}\n')),(0,o.kt)("p",null,"This checks your archive data for missing or broken blocks."),(0,o.kt)("p",null,"If there is an error, you will need to resync from another archive node."))}d.isMDXComponent=!0}}]);