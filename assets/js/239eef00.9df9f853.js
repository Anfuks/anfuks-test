"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[4027],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return p}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),p=o,m=d["".concat(c,".").concat(p)]||d[p]||h[p]||a;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},961:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return p},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return h}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={sidebar_position:11},c="Archive nodes",l={unversionedId:"learn/minima/aboutarchivenodes",id:"learn/minima/aboutarchivenodes",title:"Archive nodes",description:"Overview",source:"@site/docs/learn/minima/aboutarchivenodes.md",sourceDirName:"learn/minima",slug:"/learn/minima/aboutarchivenodes",permalink:"/docs/learn/minima/aboutarchivenodes",editUrl:"https://github.com/minima-global/minidocs/docs/learn/minima/aboutarchivenodes.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Quantum Security",permalink:"/docs/learn/minima/quantumsecurity"},next:{title:"About",permalink:"/docs/learn/maxima/maximaintro"}},u={},h=[{value:"Overview",id:"overview",level:2},{value:"Use cases",id:"use-cases",level:2}],d={toc:h};function p(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"archive-nodes"},"Archive nodes"),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"All Minima nodes have a ",(0,a.kt)("strong",{parentName:"p"},"txpow database")," and an ",(0,a.kt)("strong",{parentName:"p"},"archive database"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"txpow database")," contains full blocks, which includes complete information about all transactions; the latest MMR proofs for all coins spent or created in the block; and the Proof-of-Work expended for the block.\nIt only contains most recent blocks from the unpruned section of the chain which is approximately the last 24 hours worth."),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"archive database")," contains the last 2 months of ",(0,a.kt)("strong",{parentName:"p"},"syncblocks"),", which do not include transaction details but do hold all the MMR proofs for coins spent or created in the block as well as the Proof-of-Work. Syncblocks older than 2 months are not stored."),(0,a.kt)("p",null,"When a connection is made between two nodes, they exchange ",(0,a.kt)("strong",{parentName:"p"},"Initial Blockchain Download")," (IBD) ",(0,a.kt)("strong",{parentName:"p"},"data")," which can consist of full blocks and syncblocks, depending on how far behind the tip block the other user is."),(0,a.kt)("p",null,"For a returning user who has been offline for too long or has lost access to their node - meaning they no longer hold up-to-date proofs for their own coins - the syncblocks available from regular peers during the IBD process may not be sufficient to re-sync the user."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Archive nodes")," store ",(0,a.kt)("strong",{parentName:"p"},"all")," the ",(0,a.kt)("strong",{parentName:"p"},"syncblocks")," from after the Archive node is started, no pruning is done after 2 months. Therefore, they can be used to re-sync any returning user, providing them with the most recent proofs for their coins. "),(0,a.kt)("h2",{id:"use-cases"},"Use cases"),(0,a.kt)("p",null,"Archive nodes with a static external IP can be used to re-sync users who have lost access to their node or been offline for too long and are therefore unable to sync to the chain tip block with the IBD data alone."),(0,a.kt)("p",null,"You may also choose run a local Archive node for your own purposes, in addition to a non-archive node, in the case you ever need to re-sync"),(0,a.kt)("p",null,"A returning user has two options for re-syncing from an Archive node:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Chain re-sync:")," to be used when the user still has access to their node but is on the wrong chain or is unable to catch up to the latest tip block as a result of being offline for too long. ",(0,a.kt)("br",null),"\nIn the case of a chain re-sync, the user's node will not be wiped, only re-synced to the latest tip block.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Seed re-sync:")," to be used if a user has lost access to their node or device completely; they can restore access to their funds by doing a seed re-sync from a newly created node. Their 24 word Seed Phrase is required."))),(0,a.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"A Seed re-sync should only ever be used as a last resort in the case a user has no valid backup to restore."))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Example A - Personal Archive Node")),(0,a.kt)("p",{parentName:"blockquote"},"A user running a node on a mobile device may choose to run an Archive node locally on their laptop/desktop at home in case they lose their phone and do not have a valid backup of their node stored elsewhere. In this case, the user would always have the latest proofs for their coins on their own Archive node that they could use to re-sync to a new device. ")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Example B - Archive Node as a service")),(0,a.kt)("p",{parentName:"blockquote"},"A user with a server with a static external IP can run an Archive node and share the IP:Port of their Archive node with other users who require a chain or seed re-sync. The user requiring the re-sync would use the initiate the chain or seed re-sync from their new/exising node.")))}p.isMDXComponent=!0}}]);